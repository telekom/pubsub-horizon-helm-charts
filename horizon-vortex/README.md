# Horizon-Vortex Helm chart

![Version: 1.0.0](https://img.shields.io/badge/Version-1.0.0-informational?style=flat-square)  

Helm chart for deploying Horizon's [Vortex](https://github.com/telekom/pubsub-horizon-vortex) component.

## Values

| Key                         | Type   | Default                                                                                                                                                                      | Description                                                                                                                            |
|-----------------------------|--------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------|
| affinity                    | object | `{"enabled":true}`                                                                                                                                                           | Affinity: Configures settings related to affinity.                                                                                     |
| common.cluster              | string | `"cluster"`                                                                                                                                                                  | Cluster: The name of the cluster where the resource is running.                                                                        |
| common.domain               | string | `"example.domain.com"`                                                                                                                                                       | Domain: The domain under which the resource is hosted.                                                                                 |
| common.imagePullSecrets     | list   | `[]`                                                                                                                                                                         | Image pull secrets: Defines image pull secrets for different clusters.                                                                 |
| common.metadata.environment | string | `"default"`                                                                                                                                                                  | Metadata environment: The environment in which the resource is deployed.                                                               |
| common.product              | string | `"horizon"`                                                                                                                                                                  | Main product: The main product to which the resource belongs. The product is identified as Horizon.                                    |
| common.subProduct           | string | `"vortex"`                                                                                                                                                                   | Sub product: Subproduct of the main product Horizon. In this helm chart the subproduct is Vortex.                                      |
| common.team                 | string | `"horizon-pubsub"`                                                                                                                                                           | Team: The team for managing and developing Horizon.                                                                                    |
| containerSecurityContext    | object | `{"allowPrivilegeEscalation":false,"capabilities":{"drop":["ALL"]},"privileged":false,"readOnlyRootFilesystem":true,"runAsGroup":1001,"runAsNonRoot":true,"runAsUser":1001}` | ContainerSecurityContext: Security context set for the container.                                                                      |
| image                       | object | `{"name":"vortex","organization":"internal/example/horizon","pullPolicy":"IfNotPresent","repository":"example.devops.company.de","tag":"develop"}`                           | Image configuration for "vortex" deployment: Specifies the image details such as repository, organization, name, tag, and pull policy. |
| kafka                       | object | `{"broker":"kafka:9092","groupname":"vortex","sessionTimeoutSec":40,"topics":["subscribed","subscribed_5d","subscribed_3d","subscribed_1d","subscribed_1h"]}`                | Kafka: Configuration for connecting to Kafka brokers and managing topics.                                                              |
| livenessProbe               | object | `{"failureThreshold":8,"initialDelaySeconds":20,"periodSeconds":10}`                                                                                                         | LivenessProbe: Kubernetes Liveness Probe configuration.                                                                                |
| logLevel                    | string | `"INFO"`                                                                                                                                                                     | Logging: Sets the log level for general logging.                                                                                       |
| metrics                     | object | `{"enabled":false,"port":8080,"release":"release"}`                                                                                                                          | Metrics: Vortex metrics configuration.                                                                                                 |
| mongo                       | object | `{"bulkSize":500,"collection":"status","database":"horizon","flushIntervalSec":30,"url":"mongodbUrl"}`                                                                       | MongoDB: Configuration for connecting to MongoDB database and managing collection, bulkSize and flushIntervalSec.                      |
| podSecurityContext          | object | `{"fsGroup":1001,"supplementalGroups":[1001]}`                                                                                                                               | PodSecurityContext: Security context set for the pod.                                                                                  |
| readinessProbe              | object | `{"failureThreshold":8,"initialDelaySeconds":20,"periodSeconds":10}`                                                                                                         | ReadinessProbe: Kubernetes Readiness Probe configuration.                                                                              |
| replicas                    | int    | `1`                                                                                                                                                                          | Deployment replicas: Sets the number of replicas for the deployment.                                                                   |
| resources                   | object | `{"limits":{"cpu":1,"memory":"500Mi"},"requests":{"cpu":"50m","memory":"200Mi"}}`                                                                                            | Resources: Resource limits and requests.                                                                                               |

